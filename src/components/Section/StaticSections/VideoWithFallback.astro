---
// src/components/Section/StaticSections/VideoWithFallback.astro
const { featuredVideo, poster, altText, className = "" } = Astro.props;

// poster might be a string URL (from ?url) or an Astro image object:
const posterUrl = typeof poster === "object" && poster?.src
  ? poster.src
  : poster;
---
<video
  src={featuredVideo}
  controls
  autoplay
  muted
  poster={posterUrl}
  class={`w-full h-auto lg:h-[75vh] rounded-lg shadow-lg mb-6 ${className}`}
>
  <img
    src={posterUrl}
    alt={altText}
    class="w-full h-auto rounded-lg shadow-lg mb-6"
  />
  Sorry, your browser doesnâ€™t support embedded videos.
</video>
