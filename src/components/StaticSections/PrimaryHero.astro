---
// src/components/StaticSections/PrimaryHero.astro

import Section from "@/components/Section.astro";
import HeroBg from "@/assets/cleanomatic-truck-1.jpg";
import Menu from "@/components/Menu/Menu.astro";
import BusinessHoursItem from "@/components/Menu/BusinessHoursItem.astro";
import { getBusinessHours } from "@/queries/BusinessHoursQuery";
import { SiteData, CTAdata } from "@/content/SiteData";

// Fetch business hours (server-side)
const businessHours = await getBusinessHours();
---
<Section
  sectionClass="section-lg flex flex-col items-center justify-center bg-cover bg-fixed bg-center z-100 md:p-[var(--spacing-sm)] text-bg text-base md:text-xl"
  contentClass="w-8/10 mt-[-150px] sm:mt-0 xl:mt-[-50px]"
  headingAreaClass="xl:max-w-7/8"
  heading={[
    {
      // Sub‑heading
      text: "Your Trusted Cleaning Experts in New Jersey!",
      tagName: "h2",
      class: "h2 text-bg slide-down",
    },
  ]}
  description="Welcome to Cleanomatic, your one‑stop solution for water removal as well as dryer vent, air duct, furniture, carpet and floor cleaning services in New Jersey."
  descriptionClass="slide-up"
  backgroundMedia={{
    image: {
      src: HeroBg,
      imageClass: "filter brightness-50 bg-cover bg-center xl:bg-fixed",
    },
    overlayClass: "bg-black opacity-50",
  }}
  buttons={[
    {
      text: CTAdata.buttonText,
      link: CTAdata.buttonLink,
      variant: "primary",
    },
  ]}
  buttonsSectionClass="mt-[var(--spacing-md)] order-last sm:mt-0 scale-up"
  childPlacement="top-content-section"
>
  <!-- Business hours slot -->
  <div class="business-hours-menu text-stroke italic my-[var(--spacing-md)]">
    <label class="h4 text-bg my-[var(--spacing-sm)] italic fade-in">
      Business Hours:
    </label>
    <Menu
      items={businessHours}
      menuItem={{
        component: BusinessHoursItem,
        class: "flex justify-start items-start",
      }}
      listClass="business-hours-list flex flex-col list-disc pl-[var(--spacing-2xl)]"
    />
        <label class={"h6"}>
            Unless an Emergency!
          </label>
  </div>
</Section>
