---
// src/layouts/LocationLayout.astro
import BaseLayout from './BaseLayout.astro';
import SecondaryHero from '@/components/StaticSections/SecondaryHero.astro';
import Section from '@/components/Section.astro';
import Heading from '@/components/Heading.jsx';
import { Image } from 'astro:assets';
import { capitalize } from '@/utils/ContentUtils';
import PrimaryHero from '@/components/StaticSections/PrimaryHero.astro';

const {
  collection,
  entry,
  title: overrideTitle,
  description: overrideDesc,
  keywords,
  ogType,
  ...rest
} = Astro.props;

const isItemPage = Boolean(entry);
const data = entry?.data || {};
const body = entry?.body || '';
const pageTitle =
  overrideTitle ?? (isItemPage ? data.title : capitalize(collection));
const pageDesc =
  overrideDesc ?? (isItemPage ? data.description : rest.description);
---
<BaseLayout title={pageTitle} description={pageDesc} keywords={keywords} ogType={ogType} {...rest}>
  <!-- Hero for both collection roots and item pages -->
  <!-- Hero Section with primary call-to-action -->
  <PrimaryHero
    heading={[
      {
        text: `Welcome to Cleanomatic – Your Trusted Cleaning Experts in ${pageTitle}!`,
        tagName: "h1",
        class: "text-bg h2",
      },
    ]}
    description=`Welcome to Cleanomatic, your one‑stop solution for water removal as well as dryer vent, air duct, furniture, carpet and floor cleaning services in ${pageTitle}.`
  />  <!-- Render the page or collection sections -->
  <slot />
</BaseLayout>
